---
title: "GC 原理和算法"
sequence: "102"
---

## GC 原理

### 如何发现对象已经是垃圾

垃圾发现算法：

- 引用计数法（Reference Count）:缺点是无法解决循环引用的情况
- 根搜索算法（Root Searching），也叫“可达性分析算法”。从 GCRoot 出发，有引用的对象都是“不可回收的”，其它可标记后再回收，是 JVM 默认算法。

GCRoot，通常是指 栈帧局部变量、静态变量、运行时常量池中的变量、JNI 指针

## 垃圾回收算法

三种垃圾回收算法（理论）：

- Mark-Sweep 标记清除算法，缺点是内存碎片化
- Coping 复制（交换）算法：S0 和 S1 使用这个算法，使用在年轻代，缺点是浪费空间
- Mark-Compact 标记压缩算法：使用于老年代，缺点是效率低

- **新生代**一般采用标记复制
- **老年代**一般采用标记整理算法


