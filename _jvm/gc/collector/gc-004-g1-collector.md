---
title: "G1 收集器"
sequence: "104"
---

## G1

G1:STW 时间可预测，可设置

整个 Java 堆划分成约 2048 个大小相同的 Region 块，继续保留新生代和老年代的概念，
但是并不是一块连续的内存是新生代，另一块连续的内存是老年代，而是一些不连续的 Region 组成新生代，另一些不连续的 Region 组成老年代

G1 会跟踪各个 Region 里存活对象的数量，回收该区域所需要的时间经验值，
在后台维护一个优先队列，每次根据允许的收集时间优先回收垃圾对象数量 Region(也就是价值最大的垃圾)

CMS：追求最短的停顿时间，并行的，垃圾回收线程可以和用户线程同时执行(只有初始标记阶段需要暂停用户线程，其他阶段不需要暂停用户线程)，采用三色标记法

G1：HotSpot 开发团队赋予它的使命是未来可以替换掉 CMS 收集器


![](/assets/images/java/jvm/jvm-gc-g1.png)
