---
title: "MySQL 查询缓存"
sequence: "103"
---

## MySQL 5.7

关闭查询缓存

```mysql
SET GLOBAL query_cache_size=0;
SET GLOBAL query_cache_type=0;
```

## MySQL8 废弃查询缓存

MySQL8 已经废弃了查询缓存（Query Cache）功能，这意味着在 MySQL8 中无法使用查询缓存来加速查询性能。

查询缓存是 MySQL 中的一项功能，它可以将查询结果缓存到内存中，以便下次执行相同的查询时可以直接从缓存中读取结果，而无需再次执行查询语句。
这种方式可以显著提高查询性能，特别是在执行重复查询的情况下。

然而，查询缓存功能也存在一些问题，例如：

- 查询缓存占用大量内存空间，对于大型数据库来说可能会导致内存不足。
- 查询缓存无法处理动态数据，即使数据发生了变化，缓存仍然会返回旧的结果，这可能会导致数据不一致性问题。
- 在高并发的环境下，查询缓存的锁竞争可能会成为瓶颈，降低系统的并发性能。

因此，MySQL 官方在 MySQL8 中宣布放弃了查询缓存功能，取而代之的是更加灵活和可控的内存管理机制，
例如利用更好的索引、分区和缓存技术等方式来提高查询性能。

如果您需要在 MySQL8 中加速查询性能，建议使用其他的优化方式，
例如使用**更好的索引设计**、**优化查询语句**、**增加硬件资源等**方式。
同时，也可以考虑使用其他的缓存技术，例如使用应用程序层的缓存或者使用专业的缓存中间件来提高性能。
