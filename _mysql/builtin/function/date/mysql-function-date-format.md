---
title: "DATE_FORMAT()"
sequence: "101"
---


`DATE_FORMAT()` 函数用于以不同的格式显示日期/时间数据。

语法

```text
DATE_FORMAT(date,format)
```

其中，

- `date` 参数是合法的日期。
- `format` 参数规定日期/时间的输出格式。

## format

```text
SET @myStr = '2022-09-09 13:09:07';
SET @myTime = STR_TO_DATE(@myStr, '%Y-%m-%d %H:%i:%s');
```

### 年

| 格式   | 描述                         |
|------|----------------------------|
| `%X` | 年，其中的星期日是周的第一天，4 位，与 %V 使用 |
| `%x` | 年，其中的星期一是周的第一天，4 位，与 %v 使用 |
| `%Y` | 年，4 位                      |
| `%y` | 年，2 位                      |

```text
mysql> SELECT DATE_FORMAT(@myTime, '%X');
+----------------------------+
| DATE_FORMAT(@myTime, '%X') |
+----------------------------+
| 2022                       |
+----------------------------+
1 row in set (0.00 sec)

mysql> SELECT DATE_FORMAT(@myTime, '%x');
+----------------------------+
| DATE_FORMAT(@myTime, '%x') |
+----------------------------+
| 2022                       |
+----------------------------+
1 row in set (0.00 sec)

mysql> SELECT DATE_FORMAT(@myTime, '%Y');
+----------------------------+
| DATE_FORMAT(@myTime, '%Y') |
+----------------------------+
| 2022                       |
+----------------------------+
1 row in set (0.00 sec)

mysql> SELECT DATE_FORMAT(@myTime, '%y');
+----------------------------+
| DATE_FORMAT(@myTime, '%y') |
+----------------------------+
| 22                         |
+----------------------------+
1 row in set (0.00 sec)
```

### 月

| 格式   | 描述          |
|------|-------------|
| `%b` | 缩写月名        |
| `%M` | 月名          |
| `%m` | 月，数值 (00-12) |

```text
mysql> SELECT DATE_FORMAT(@myTime, '%b');
+----------------------------+
| DATE_FORMAT(@myTime, '%b') |
+----------------------------+
| Sep                        |
+----------------------------+
1 row in set (0.00 sec)

mysql> SELECT DATE_FORMAT(@myTime, '%M');
+----------------------------+
| DATE_FORMAT(@myTime, '%M') |
+----------------------------+
| September                  |
+----------------------------+
1 row in set (0.00 sec)

mysql> SELECT DATE_FORMAT(@myTime, '%m');
+----------------------------+
| DATE_FORMAT(@myTime, '%m') |
+----------------------------+
| 09                         |
+----------------------------+
1 row in set (0.00 sec)
```

### 天

| 格式   | 描述            |
|------|---------------|
| `%D` | 带有英文后缀的月中的天   |
| `%d` | 月的天，数值 (00-31) |
| `%e` | 月的天，数值 (0-31)  |
| `%j` | 年的天 (001-366) |

```text
mysql> SELECT DATE_FORMAT(@myTime, '%D');
+----------------------------+
| DATE_FORMAT(@myTime, '%D') |
+----------------------------+
| 9th                        |
+----------------------------+
1 row in set (0.00 sec)

mysql> SELECT DATE_FORMAT(@myTime, '%d');
+----------------------------+
| DATE_FORMAT(@myTime, '%d') |
+----------------------------+
| 09                         |
+----------------------------+
1 row in set (0.00 sec)

mysql> SELECT DATE_FORMAT(@myTime, '%e');
+----------------------------+
| DATE_FORMAT(@myTime, '%e') |
+----------------------------+
| 9                          |
+----------------------------+
1 row in set (0.00 sec)

mysql> SELECT DATE_FORMAT(@myTime, '%j');
+----------------------------+
| DATE_FORMAT(@myTime, '%j') |
+----------------------------+
| 252                        |
+----------------------------+
1 row in set (0.00 sec)
```

### 星期

| 格式   | 描述                           |
|------|------------------------------|
| `%a` | 缩写星期名                        |
| `%U` | 周 (00-53) 星期日是一周的第一天         |
| `%u` | 周 (00-53) 星期一是一周的第一天         |
| `%V` | 周 (01-53) 星期日是一周的第一天，与 %X 使用 |
| `%v` | 周 (01-53) 星期一是一周的第一天，与 %x 使用 |
| `%W` | 星期名                          |
| `%w` | 周的天 （0= 星期日 , 6= 星期六）           |

```text
mysql> SELECT DATE_FORMAT(@myTime, '%a');
+----------------------------+
| DATE_FORMAT(@myTime, '%a') |
+----------------------------+
| Fri                        |
+----------------------------+
1 row in set (0.00 sec)

mysql> SELECT DATE_FORMAT(@myTime, '%W');
+----------------------------+
| DATE_FORMAT(@myTime, '%W') |
+----------------------------+
| Friday                     |
+----------------------------+
1 row in set (0.00 sec)

mysql> SELECT DATE_FORMAT(@myTime, '%w');
+----------------------------+
| DATE_FORMAT(@myTime, '%w') |
+----------------------------+
| 5                          |
+----------------------------+
1 row in set (0.00 sec)
```

### 上午和下午

| 格式   | 描述      |
|------|---------|
| `%p` | AM 或 PM |

```text
mysql> SELECT DATE_FORMAT(@myTime, '%p');
+----------------------------+
| DATE_FORMAT(@myTime, '%p') |
+----------------------------+
| PM                         |
+----------------------------+
1 row in set (0.00 sec)
```

### 时

| 格式   | 描述         |
|------|------------|
| `%H` | 小时 (00-23) |
| `%h` | 小时 (01-12) |
| `%I` | 小时 (01-12) |
| `%k` | 小时 (0-23)  |
| `%l` | 小时 (1-12)  |

```text
mysql> SELECT DATE_FORMAT(@myTime, '%H');
+----------------------------+
| DATE_FORMAT(@myTime, '%H') |
+----------------------------+
| 13                         |
+----------------------------+
1 row in set (0.00 sec)

mysql> SELECT DATE_FORMAT(@myTime, '%h');
+----------------------------+
| DATE_FORMAT(@myTime, '%h') |
+----------------------------+
| 01                         |
+----------------------------+
1 row in set (0.00 sec)

mysql> SELECT DATE_FORMAT(@myTime, '%I');
+----------------------------+
| DATE_FORMAT(@myTime, '%I') |
+----------------------------+
| 01                         |
+----------------------------+
1 row in set (0.00 sec)

mysql> SELECT DATE_FORMAT(@myTime, '%i');
+----------------------------+
| DATE_FORMAT(@myTime, '%i') |
+----------------------------+
| 09                         |
+----------------------------+
1 row in set (0.00 sec)

mysql> SELECT DATE_FORMAT(@myTime, '%k');
+----------------------------+
| DATE_FORMAT(@myTime, '%k') |
+----------------------------+
| 13                         |
+----------------------------+
1 row in set (0.00 sec)

mysql> SELECT DATE_FORMAT(@myTime, '%l');
+----------------------------+
| DATE_FORMAT(@myTime, '%l') |
+----------------------------+
| 1                          |
+----------------------------+
1 row in set (0.00 sec)
```

### 分

| 格式   | 描述           | 示例  | 结果  |
|------|--------------|-----|-----|
| `%i` | 分钟，数值 (00-59) | ``  |     |

```text
mysql> SELECT DATE_FORMAT(@myTime, '%i');
+----------------------------+
| DATE_FORMAT(@myTime, '%i') |
+----------------------------+
| 09                         |
+----------------------------+
1 row in set (0.00 sec)
```

### 秒

| 格式   | 描述       | 示例  | 结果  |
|------|----------|-----|-----|
| `%f` | 微秒       | ``  |     |
| `%S` | 秒 (00-59) | ``  |     |
| `%s` | 秒 (00-59) | ``  |     |

```text
mysql> SELECT DATE_FORMAT(@myTime, '%f');
+----------------------------+
| DATE_FORMAT(@myTime, '%f') |
+----------------------------+
| 000000                     |
+----------------------------+
1 row in set (0.00 sec)

mysql> SELECT DATE_FORMAT(@myTime, '%S');
+----------------------------+
| DATE_FORMAT(@myTime, '%S') |
+----------------------------+
| 07                         |
+----------------------------+
1 row in set (0.00 sec)

mysql> SELECT DATE_FORMAT(@myTime, '%s');
+----------------------------+
| DATE_FORMAT(@myTime, '%s') |
+----------------------------+
| 07                         |
+----------------------------+
1 row in set (0.00 sec)
```

### 复杂

| 格式   | 描述                         | 示例  | 结果  |
|------|----------------------------|-----|-----|
| `%r` | 时间，12- 小时（hh:mm:ss AM 或 PM） | ``  |     |
| `%T` | 时间 , 24- 小时 (hh:mm:ss)       | ``  |     |

```text
mysql> SELECT DATE_FORMAT(@myTime, '%r');
+----------------------------+
| DATE_FORMAT(@myTime, '%r') |
+----------------------------+
| 01:09:07 PM                |
+----------------------------+
1 row in set (0.00 sec)

mysql> SELECT DATE_FORMAT(@myTime, '%T');
+----------------------------+
| DATE_FORMAT(@myTime, '%T') |
+----------------------------+
| 13:09:07                   |
+----------------------------+
1 row in set (0.00 sec)
```

### All

| 格式   | 描述                           |
|------|------------------------------|
| `%a` | 缩写星期名                        |
| `%b` | 缩写月名                         |
| `%c` | 月，数值                         |
| `%D` | 带有英文前缀的月中的天                  |
| `%d` | 月的天，数值 (00-31)                |
| `%e` | 月的天，数值 (0-31)                 |
| `%f` | 微秒                           |
| `%H` | 小时 (00-23)                   |
| `%h` | 小时 (01-12)                   |
| `%I` | 小时 (01-12)                   |
| `%i` | 分钟，数值 (00-59)                 |
| `%j` | 年的天 (001-366)                |
| `%k` | 小时 (0-23)                    |
| `%l` | 小时 (1-12)                    |
| `%M` | 月名                           |
| `%m` | 月，数值 (00-12)                  |
| `%p` | AM 或 PM                      |
| `%r` | 时间，12- 小时（hh:mm:ss AM 或 PM）   |
| `%S` | 秒 (00-59)                     |
| `%s` | 秒 (00-59)                     |
| `%T` | 时间 , 24- 小时 (hh:mm:ss)         |
| `%U` | 周 (00-53) 星期日是一周的第一天         |
| `%u` | 周 (00-53) 星期一是一周的第一天         |
| `%V` | 周 (01-53) 星期日是一周的第一天，与 %X 使用 |
| `%v` | 周 (01-53) 星期一是一周的第一天，与 %x 使用 |
| `%W` | 星期名                          |
| `%w` | 周的天 （0= 星期日 , 6= 星期六）           |
| `%X` | 年，其中的星期日是周的第一天，4 位，与 %V 使用   |
| `%x` | 年，其中的星期一是周的第一天，4 位，与 %v 使用   |
| `%Y` | 年，4 位                        |
| `%y` | 年，2 位                        |


